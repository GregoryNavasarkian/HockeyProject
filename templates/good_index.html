<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My Fabric.js Hockey Rink Example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.4.0/fabric.min.js"></script>
  </head>
  <body>
    <svg width="80%" height="34%" viewbox="-1000 -425 2000 850" id="hockey_rink">
        <rect x="-1000" y="-425" width="100%" height="100%" style="fill:rgb(237, 237, 255);stroke-width:3;stroke:black"/>
    </svg>
    <script>

        var hockey_rink = document.getElementById("hockey_rink");
        var pt = hockey_rink.createSVGPoint();
        hockey_rink.addEventListener("click", function(evt) {
            pt.x = evt.clientX;
            pt.y = evt.clientY;

            var cursorpt =  pt.matrixTransform(hockey_rink.getScreenCTM().inverse());
            console.log("x: "+cursorpt.x+" y:"+cursorpt.y)

            //draw a circle at the click location
            var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttributeNS(null, "cx", cursorpt.x);
            circle.setAttributeNS(null, "cy", cursorpt.y);
            circle.setAttributeNS(null, "r", 5);
            circle.setAttributeNS(null, "fill", "red");
            hockey_rink.appendChild(circle);

        });
    
    </script>
  </body>
</html>